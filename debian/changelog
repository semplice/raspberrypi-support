raspberrypi-support (3.2.27+git2012.11.26-1) pulse; urgency=low

  [ popcornmix ]
  * Add support for OMX_COLOR_Format32bitARGB8888  in image_decode, image_resize, image_encode. Fix GET_DMA_CHANNELS mailbox message. Add measure_clock gencmd
  * Added cpufreq driver. Added measure_temp vcgencmd. Fix bug when moving manditory CEA to DMT modes. Some device tree updates
  * Add measure_volts vcgencmd. Restrict core voltage to 1.35 without force_turbo. Exclude v3d/h264/isp from turbo. Use powerman for voltage (and so get ate_offset).
  * Enable fiq fix by default. Add NAK holdoff scheme. Enabled by default, disable with dwc_otg.nak_holdoff_enable=0. Thanks gsh. Added hwmon/thermal driver for reporting core temperature. Thanks Dorian. Support command line in devtree.
  * Fix possible deadlock when changing frequency
  * Add config options for thermal sensor, L2TP, RT2800USB_UNKNOWN, and various I2C and SPI RTCs. Tidy of thermal driver.
  * Add back in missing files
  * Add boot_delay_ms config option. Reinstate boot_delay=1. Program NULL serials. Allow temp_limit to be set. Remove logging from 240M build
  * Reduce PWM fifo threshold to avoid losing 0.4% of samples. Allocate more DMA channels to ARM Add fake_vsync_isr config option to trigger SMI interrupt on vsync
  * Remove some unnecessary dmesg output. Support safe mode on rev2 boards. Allow longer codec licence strings (8 licences).
  * Switch to powersave governor. We'll enable ondemand in the distribution
  * Gain an extra bit on PWM audio. Should improve quality a little.
  * Fix incorrect vector instruction in downmixing code
  * enable multiple ALSA channels
  * Fix Kernel OOPS in SDHCI on boot with the llm patch. Thanks ddv2005
  * Added initial_turbo config parameter for forcing turbo from boot. Added OMX_IndexConfigBrcmAudioDownmixCoefficients for setting custom downmix coefficients.
  * Use system timer for udelay, so unaffected by cpufreq. Add simpler bob deinterlace for 1080i streams. Add saturation to audio downmixer
  * Move __delay function into assembly to get accurate BogoMips
  * Move to newer version of GPU source tree (LKG56). New vdec3 video decoder. New hello_encode demo app. loader.bin no longer required. Note: need to update kernel, start.elf and opt/vc/lib together
  * Fix 240M memory split build
  * Remove BUG() call from vchiq that is trigger when alsa is killed
  * Revert "Remove BUG() call from vchiq that is trigger when alsa is killed"
    This reverts commit db62088e8248ee4f080cf0ff84242970a1327587.
  * Revert "Fix 240M memory split build"
    This reverts commit 5a036c9172c50560f47af8c9ea4ab1f7853cacb5.
  * Revert "Move to newer version of GPU source tree (LKG56)."
    This reverts commit 1a7fbe8113ffadfde24863f6fcb50ff8be9265c6.
  * Add memory splits for 512M board
  * Update to new firmware. Includes vdec3 but without vchiq. Updated code at LKG45. Adds hello_encode demo.
  * Increase emmc clock to 100MHz to help with sdcard corruption when overclocking
  * Increase limit on arm_freq. Add 8-flash pattern for abort. Support eglGetProcAddress for vgCreateEGLImageTargetKHR. Allow overriding of scaling kernel.
  * Remove plethora of start.elf files. Now use start.elf and fixup.dat. Add config.txt paramater gpu_mem to select GPU mem and ARM gets the remainder. E.g. gpu_mem=64 Should handle 256M and 512M parts. The start_cd.elf and fixup_cd.dat will be used when gpu_mem=16. loader.bin no longer needed. Switch to compressed kernel images.
  * Add gpu_mem_256 and gpu_mem_512 config options to bootcode.bin
  * Add vcgencmd get_config for extracting config.txt settings
  * Fix for parsing of broken EDIDs. Add dispmanx_offline config parameter to allow compositing to offline buffer when displayed elements are too complex for realtime display
  * Update to LKG56 for dispmanx, hvs, dispserv, scalarlib. Also fix some hard coded sizes on elements and increase size of release queue. Allow display_rortate to set hflip and vflip flags. Fix for SET_POWER_STATE mailbox message
  * Avoid allocating dispmanx offscreen buffer when not requested. It was consuming significant GPU memory. Add patch from chinasaur: Remove vgfont limitation on characters drawable per line
  * Use a dummy edid when hdmi_ignore_edid is true and edid is invalid
  * Disable dispmanx auto-offlining when not required
  * Allow packed images to be created with vc_dispmanx_resource_create
  * Make sure we wait for the reset to finish in usb driver. SPI: respect per-transfer SPI clock speed_hz value. Add missing pctv452e DVB module
  * Potential fix for interlaced video stuttering. Support for packed data on input of video_encode and output of resize openmax components. smsc95xx updates for Raspberry Pi. Enable building of lirc-rpi.
  * Firmware files now taken from userland repo. Added hello_jpeg demo (thanks to Matt Ownby and Anthong Sale)
  * Recreate opt/vc files from userland tree
  * Rebuild with Simon's dmaer module and iscsi support
  * Add missed files
  * Increase commandline length to 1024
  * Rebuild with sdcard retry mechanism from derolf. Add ratelimit to usbnet kevent may have been dropped messages.

 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Mon, 17 Dec 2012 12:11:11 +0100

raspberrypi-support (3.2.27+git2012.09.05-2) pulse; urgency=low

  * Rebuild.

 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Fri, 07 Sep 2012 16:12:36 +0200

raspberrypi-support (3.2.27+git2012.09.05-1) pulse; urgency=low

  [ popcornmix ]
  * Rebuild with bootc patches. Add lb's patches: sdhci-bcm2708: use extension FIFO to buffer DMA transfers. sdhci-bcm2708: use multiblock-type transfers for single blocks. Add module parameter for missing_status quirk: sdhci-bcm2708.missing_status. Firmware: Add 7 flash pattern for missing kernel.img. Allow PWM PLL to be repurposed for H264/ISP/V3D.
  * Retain CEC logical address after hdmi mode change. Avoid killing composite when attempting to start CEC or HDMI audio
  * Fix for audio hdmi passthrough, broken in last commit
  * Fix for ALSA ten second timeout on exit. Fix for volume/mute issues Add fuzzy matching on hdmi modes with edid_format_smart_match
  * Preparation for additional codecs
  * Minor fix for matching closest framerates when edid_format_smart_match is enabled
  * Rebuild with updated 2.94a USB driver. Add CONFIG_CRYPTO_XTS module
  * Some updates to overclock settings. avoid_pwm_pll + H264 fixed. Add hdmi_ignore_cec_init.
  * Fix for GPU overclock being lost
  * Rebase to kernel 3.2.27
  * Merged in microframe scheduler, currently disabled. Enable with dwc_otg.microframe_schedule=1
  * Fix for broken GPIO with 3.2 kernel
  *  Revert Disable IRQs in dwc_otg_hcd_qh_free because DWC_DMA_FREE should be called with enabled IRQs. amba-pl011: Don't send a character during startup Another fix for 10 second hang on closing sound driver
  * Update to dwc_otg 3.00. Seems to be a very minor update (mostly adding support for a newer version of hardware)
  * Rebuild with 1-wire support. More efficient PWM audio on GPU
  * Turn on microframe_schedule by default. Can still be disabled on command line. Switch off tracing options in kernel. Costs 20% in iperf speed, and 10% in xbmc framerate
  * Add low-latency mode to sdcard driver. Enable with sdhci-bcm2708.enable_llm=1. Thanks ddv2005. Add overscan_scale config.txt option which scales all dispmanx layer. Don't lock SMPS settings. Make edid_fuzzy_match enabled by default.
  * Rebuild with latest linaro gcc compiler. Add config options to allow iotop to run. Fix for vmalloc failure with modprobe and cutdown kernel. Add VG tiger hello_pi example
  * Enable low latency mode by default in sdcard driver. Can be disabled with sdhci-bcm2708.enable_llm=0
  * Add FIQ patch to dwc_otg driver. Enable with dwc_otg.fiq_fix_enable=1. Should give about 10% more ARM performance. Thanks to Gordon and Costas
  * Add non-mainline source for rtl8188cu wireless driver as this is widely used. Disabled older rtlwifi driver
  * Add verious user config requests. CONFIG_DEVTMPFS_MOUNT, CONFIG_NFS_V4_1=y CONFIG_NFSD_V3_ACL=y CONFIG_NFSD_V4=y, drbd and IPSEC modules
  * Firmware update. Expose more overclocking options through mailbox channel. Restrict H264/ISP/V3D to integer divisors of PLL. Choose highest PLL below 2.4G. Disable overclock above 85'C. Try to fix 14:9/16:9 sdtv aspect ratio. Allow bcm_host_init to be called more than once.

 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Fri, 07 Sep 2012 14:25:33 +0200

raspberrypi-support (3.1.9+git2012.07.27-1) pulse; urgency=low

  [ popcornmix ]
  * Attempted fix for analogue noise at start and stop of playback
  * Fixed issue with some keyboards giving too much data resulting in overrun of the input buffer and memory corruption causing an OOPS. We should be checking for the fact that we might get more data than we want.
  * Fixes to analogue audio. Fix hang with openmax. Fix lost samples at front of buffer
  * Rebuild of kernel and GPU firmware with: 802.1q VLAN module, interrupt support in gpio driver, lower powered poweroff state, and fixed 8bpp console colours
  * Rebuilt kernel with fix for parts of framebuffer not updating
  * Rebuild with: Add mechanism to reduce the number of SOF interrupts in dwc_otg USB driver. Enable through /proc/dwc_sof/SOF_reduction Also add Module.symvers and git hash the kernel source was built against
  * Updating dwc_otg driver to fix issue releasing pcm stream Backport of Chris Boot's i2c and spi drivers. Firmware has hdmi_ignore_cec config option added. Determine board revision from OTP in preference to GPIO version Fix for hdmi_ignore_edid not allowing unsupported modes. Tidy up of /opt/vc files and hello_pi to build with raspbian
  * Rebuild with: Fix for compressed kernel booting. Fix to avoid discarding swapfile which can be slow Added sdtv_disable_colourburst. Add GPIO1 pulldown jumper mod to allow safe mode booting
  * Change licence to three clause BSD
  * Tweak working of licence headers. Kernel built with added SCSI tape module
  * Add workaround for hand when quitting X. Clip overscan values to zero. Add ATAG_INITRD2.
  * Add execute permission to rebuild.sh
  * Fix problem with hdmi_safe and safe_mode not working. Add 8MB space with initramfs and followkernel. Fix some missing header file licences.
  * Better fix for quitting X hang. Interrupted mailbox reads are not something we can reliably recover from, so down_interruptable is not a safe call.
  * Add sync_after_dma module parameter to kernel. Tweak for hdmi mode selection when no detailed timing. Add hdmi_ignore_hotplug, disable_l2cache_witealloc  and arm_control configs. Add mailbox property channel, see github issue #47
  * Fix for too much power management giving slow boots in last commit. Fix for crackles in HDMI audio. Fix for display blanking caused by optimised memset in conjunction with 32bpp framebuffer. Support default cmdline.txt when missing.
  * Add SPI_SPI_DEV module Fix setting membase from command line with vcdbg Avoid blocking when submitting audio data when full and not started. Increase size of audio output buffer to handle buffer size increasing when resampling low frequencies. Avoid losing start of HDMI output. Allow sdtv to be switched on from tvservice Some mailbox property fixes. Fix spelling of disable_l2cache_writealloc
  * Rebuild with newer toolchain (gcc-4.7.1)
  * Rebuild with various requested extra config options
  * Revert unwanted change to licence header
  * Trim the firmware builds. Add a smaller arm240_start.elf
  * Rebuilt with possible fix for missing USB packets
  * Revert "Rebuilt with possible fix for missing USB packets"
  * Fix for 'Failed to add service' Switch to new libCEC compatible CEC service. Note: this breaks compatibility with existing CEC service
  * Fix for 'Failed to add service' try two

  [ Eugenio Paolantonio (g7) ]
  * debian/control:
     - removed linux-image-raspberrypi-dbg
     - Made linux-image-raspberrypi-cutdown conflict with linux-image-raspberrypi.


 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Wed, 01 Aug 2012 00:22:07 +0200

raspberrypi-support (3.1.9+git2012.06.22-1) pulse; urgency=low

  [ popcornmix ]
  * Rebuild with updated (more debug) kernel. Firmware has larger framebuffer alignment support, hdmi_safe and kernel_old flags. Added hello_dispmanx test code and missing font file
  * sdhci-bcm2708 performance, compatibility and reliability improvements - thanks lb Note init_emmc_clock is now 50000000. You must update kernel.img and start.elf together. If you want to use an old kernel with this start.elf you will need init_emmc_clock=80000000. If you want to use this kernel with an old start.elf you will need init_emmc_clock=50000000.
  * Added more LED flashing to bootcode.bin and loader.bin. start.elf now supports setting of gpio drive strength
  * Rebuilt kernel with sdhci-bcm2708: raise DMA sync timeout
  * Fix divide by zero introduced last check in. Added new kernel options for iptables, device mapper, PPP_MPPE.
  * Add small boot_delay which helps boot hangs
  * Added hfs and hfsplus modules
  * Fixes for ALSA hangs
  * Fix for bootcode.bin pullupson sdcard Add hdmi_force_edid_audio to report all audio formats supported Move cutdown kernel to 3.1.9-cutdown+ so kernels can be switched more easily Add NFSD and dvb modules Fix memory leak in USB driver

  [ Eugenio Paolantonio ]
  * debian/control:
    - bumped to standards-version: 3.9.3.1.
    - added linux-image-raspberrypi-cutdown
    - made linux-image-raspberrypi-dbg a transitional package to linux-image-raspberrypi-cutdown.
  * debian/rules:
    - properly clean up omxil-broadcom-doc.

 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Sun, 24 Jun 2012 17:58:54 +0200

raspberrypi-support (3.1.9+git2012.06.05-1) pulse; urgency=low

  [ popcornmix ]
  * Rebuild with PAL resolution fix. loader.bin rebuilt for platform. make hdmi_mode filter supported list. Add source for hello_pi/libilclient Add VG demo hello_font
  * Fix for loader.bin not booting
  * Add display of audio support to tvservice

  [ Eugenio Paolantonio ]
  * Proper sectioned packages. Fixed build issues (hopefully) Renamed omxil-doc to omxil-broadcom-doc.

 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Fri, 08 Jun 2012 14:48:57 +0200

raspberrypi-support (3.1.9+git2012.05.31-1) pulse; urgency=low

  * Initial release

 -- Eugenio Paolantonio (g7) <me@medesimo.eu>  Sun, 03 Jun 2012 23:09:58 +0200
